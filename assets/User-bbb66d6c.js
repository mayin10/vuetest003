import{a as h}from"./axios-c0bebe37.js";import{c as y}from"./constant-adb2729d.js";import{_ as b,r as o,o as w,c as C,f as e,g as t,h as i}from"./index-85211e2e.js";const v={data(){return{api:"http://127.0.0.1:8000/dmsAPi/user/",keyword:"",datalist:[]}},created(){this.getDataList()},methods:{getDataList(){h({url:y.user,method:"get",headers:{Authorization:"Token "+localStorage.token},params:{page:1,pagesize:10,keyword:this.keyword}}).then(l=>{console.log(l.data.results),this.datalist=l.data.results}).catch(l=>{console.log(l)})}}};function D(l,c,V,x,r,d){const _=o("el-descriptions"),u=o("el-input"),p=o("el-col"),s=o("el-button"),m=o("el-row"),a=o("el-table-column"),f=o("el-table"),g=o("el-card");return w(),C("div",null,[e(g,null,{default:t(()=>[e(_,{title:"User Info"}),e(m,{gutter:20},{default:t(()=>[e(p,{span:8},{default:t(()=>[e(u,{placeholder:"Please enter query keywords",modelValue:r.keyword,"onUpdate:modelValue":c[0]||(c[0]=n=>r.keyword=n),clearable:"",onClear:d.getDataList},null,8,["modelValue","onClear"])]),_:1}),e(p,{span:4},{default:t(()=>[e(s,{type:"primary",onClick:d.getDataList},{default:t(()=>[i("search")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(f,{data:r.datalist,stripe:"",style:{width:"100%"}},{default:t(()=>[e(a,{prop:"id",label:"ID"}),e(a,{prop:"username",label:"Username"}),e(a,{prop:"email",label:"Email"}),e(a,{prop:"tel",label:"Tel"}),e(a,{prop:"last_login",label:"last_login"}),e(a,{label:"Operations"},{default:t(n=>[e(s,{type:"warning",size:"mini",onClick:k=>l.removeuserById(n.row.id)},{default:t(()=>[i("Edit")]),_:2},1032,["onClick"]),e(s,{type:"danger",size:"mini",onClick:k=>l.removeuserById(n.row.id)},{default:t(()=>[i("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])}const L=b(v,[["render",D]]);export{L as default};

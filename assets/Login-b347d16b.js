import{c as r}from"./constant-adb2729d.js";import{a as m}from"./axios-c0bebe37.js";import{_ as u,o as d,c,a as o,w as a,v as i,b as _,t as f,p as g,d as h}from"./index-85211e2e.js";const w={name:"Login",data(){return{username:"admin",password:"123456",errmsg:"",errshow:!1,api:r.login}},methods:{fnLogin(){if(this.username==""||this.password==""){this.errmsg="用户名或密码不能为空",this.errshow=!0;return}console.log(r.login),m.post(r.login,{username:"admin",password:"123456"}).then(n=>{sessionStorage.clear(),localStorage.clear(),localStorage.token=n.data.token,localStorage.username=this.username,this.$router.push("/home")})}}},p=n=>(g("data-v-81ef6af6"),n=n(),h(),n),v={class:"main_wrap"},S=p(()=>o("div",{class:"login_logo"},[o("span",null," NRS Document Management System")],-1)),x={method:"post",class:"login_form"},k=p(()=>o("h1",{class:"login_title"},"NRS DMS",-1));function y(n,s,L,D,e,l){return d(),c("div",v,[S,o("form",x,[k,a(o("input",{type:"text",name:"username",placeholder:"User",class:"input_txt",autocomplete:"off","onUpdate:modelValue":s[0]||(s[0]=t=>e.username=t),onClick:s[1]||(s[1]=t=>e.errshow=!1)},null,512),[[i,e.username]]),a(o("input",{type:"password",name:"password",placeholder:"Password",class:"input_txt","onUpdate:modelValue":s[2]||(s[2]=t=>e.password=t),onClick:s[3]||(s[3]=t=>e.errshow=!1)},null,512),[[i,e.password]]),a(o("div",{class:"error_tip"},f(e.errmsg),513),[[_,e.errshow]]),o("input",{type:"button",value:"Login",class:"input_sub",onClick:s[4]||(s[4]=(...t)=>l.fnLogin&&l.fnLogin(...t))})])])}const C=u(w,[["render",y],["__scopeId","data-v-81ef6af6"]]);export{C as default};
